import { useState } from 'react'
import { MemoryRouter } from 'react-router-dom'
import { Meta, Story, Canvas, Preview, Props } from '@storybook/addon-docs/blocks'
import { Text } from '../Text'
import { Checkbox } from '.'

<Meta title='Components/Checkbox' component={Checkbox} />

# Checkbox
A simple Checkbox to allow users to carry out an action. This is a controlled component so a `value` and an `onChange` prop must be passed.

## Base
For use to indicate a boolean value.

<Preview>
  <Story name='Base'>
    {() => {
      const [value, setValue] = useState(false)
      return (
        <div>
          <Checkbox id={'checkbox'} value={value} onChange={setValue}>Checkbox</Checkbox>
          <Checkbox id={'checkbox-disabled'} disabled>Disabled</Checkbox>
          <Checkbox id={'checkbox-disabled-checked'} value={true} disabled>Disabled</Checkbox>
          <Checkbox id={'checkbox-uncontrolled'} uncontrolled>Uncontrolled</Checkbox>
          <Checkbox id={'checkbox'} value={value} onChange={setValue} indeterminate>Indeterminate</Checkbox>
        </div>
      )
    }}
  </Story>
</Preview>

## Group
For use to indicate multiple boolean values.

<Preview>
  <Story name='Group'>
    {() => {
      const [values, setValues] = useState([])
      const handleChange = (name, value) => setValues((prev) => value 
        ? [...prev.filter(x => x !== name), name] 
        : prev.filter(x => x !== name))
      return (
        <div>
          <Text>Values selected: {JSON.stringify(values)}</Text>
          <Checkbox name={'checkbox'} value={values.includes('cat')} onChange={(value) => handleChange('cat', value)}>Cat</Checkbox>
          <Checkbox name={'checkbox'} value={values.includes('dog')} onChange={(value) => handleChange('dog', value)}>Dog</Checkbox>
          <Checkbox name={'checkbox'} value={values.includes('horse')} onChange={(value) => handleChange('horse', value)}>Horse</Checkbox>
        </div>
      )
    }}
  </Story>
</Preview>

## Prop Types

<Props of={Checkbox} />