import { useState } from 'react'
import { MemoryRouter } from 'react-router-dom'
import { Meta, Story, Canvas, Preview, Props } from '@storybook/addon-docs/blocks'
import { Select } from '.'
import { Text } from '../Text'

<Meta title='Components/Select' component={Select} />

# Select
Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 

## Base
Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. 

<Preview>
  <Story name='Base'>
    {() => {
      const [value, setValue] = useState('option-4')
      const [options, setOptions] = useState([
        { label: 'Option 1', value: 'option-1' },
        { label: 'Option 2', value: 'option-2' },
        { label: 'Option 3', value: 'option-3' },
        { label: 'Option 4', value: 'option-4' },
        { label: 'Option 5', value: 'option-5' },
        { label: 'Option 6', value: 'option-6' }
      ])
      return (
        <div>
          <Text>Value: {`${value}`}</Text>
          <Select id={'select'} options={options} value={value} onChange={setValue} />
        </div>
      )
    }}
  </Story>
</Preview>

## Optional
Optional selects allow you to reselect `null`.

<Preview>
  <Story name='Optional'>
    {() => {
      const [value, setValue] = useState(null)
      return (
        <div>
          <Text>Value: {`${value}`}</Text>
          <Select
            id={'select'}
            options={[{ label: 'This is generic option number 1', value: 'option-1' },{ label: 'Option 2', value: 'option-2' }]}
            value={value}
            optional
            onChange={setValue}
            popper={{ placement: 'bottom' }}
          />
        </div>
      )
    }}
  </Story>
</Preview>

## Searchable
Searchable selects allow the user to search for an option, large amounts of options will be virtualised

<Preview>
  <Story name='Searchable'>
    {() => {
      const [value, setValue] = useState(null)
      const options = [...Array(1000).keys()].map((item, index) => {
        if (index % 2) {
          return {label: `Option ${item}`, value: item}
        } else {
          return {label: `Option ${item} - Sed a ultrices orci. Integer tincidunt justo sit amet libero egestas, eget pharetra ligula egestas. Sed laoreet, velit non scelerisque interdum, tellus nisi maximus sem, congue fringilla sapien justo sed mi..`, value: item}
        }
      })
      return (
        <div>
          <Text>Value: {`${value}`}</Text>
          <Select id={'select'} options={options} value={value} searchable searchableLimit={250} onChange={setValue} />
        </div>  
      )
    }}
  </Story>
</Preview>

## Prop Types

<Props of={Select} />